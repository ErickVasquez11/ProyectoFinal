(this.webpackJsonpproyectofinal=this.webpackJsonpproyectofinal||[]).push([[0],{22:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(16),s=n.n(c),o=(n(22),n(2)),i=n.n(o),l=n(4),u=n(3),d=n(5),b=n(9),j="https://posts-pw2021.herokuapp.com/api/v1",x={};x.loginAdmin=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/auth/signin"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({username:"".concat(t),password:"".concat(n)})});case 2:if(!(r=e.sent).ok){e.next=8;break}return e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x.verifyToken=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/auth/whoami"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x.createPost=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r,a,c){var s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"admin"!==n){e.next=10;break}return e.next=4,fetch("".concat(j,"/post/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({title:"".concat(r),description:"".concat(a),image:"".concat(c)})});case 4:return s=e.sent,e.next=7,s.json();case 7:return o=e.sent,console.log(o),e.abrupt("return",o);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),x.Owned=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r,a){var c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"admin"!==n){e.next=10;break}return e.next=4,fetch("".concat(j,"/post/owned?limit=").concat(r,"&page=").concat(a),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 4:return c=e.sent,e.next=7,c.json();case 7:return s=e.sent,console.log(s),e.abrupt("return",s);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),x.Toggle=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"admin"!==n){e.next=10;break}return e.next=4,fetch("".concat(j,"/post/toggle/").concat(r),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,console.log(c),e.abrupt("return",c);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log();case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),x.Update=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a,c,s,o,l,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>3&&void 0!==u[3]?u[3]:"",c=u.length>4&&void 0!==u[4]?u[4]:"",s=u.length>5&&void 0!==u[5]?u[5]:"",e.prev=3,"admin"!==n){e.next=13;break}return e.next=7,fetch("".concat(j,"/post/update/").concat(r),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({title:"".concat(a),description:"".concat(c),image:"".concat(s)})});case 7:return o=e.sent,e.next=10,o.json();case 10:return l=e.sent,console.log(l),e.abrupt("return",l);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),x.Commet=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==r){e.next=5;break}return e.abrupt("return",{});case 5:return e.next=7,fetch("".concat(j,"/post/comment/").concat(n),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({description:r})});case 7:return a=e.sent,e.next=10,a.json();case 10:return c=e.sent,console.log(c),e.abrupt("return",c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),x.GetAll=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(j,"/post/all?limit=").concat(n,"&page=").concat(r),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,console.log(c),e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),x.Like=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(j,"/post/like/").concat(n),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log();case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),x.AddFavorite=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(j,"/post/fav/").concat(n),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,console.log(a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log();case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),x.GetFavorite=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(j,"/post/fav"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,console.log(r),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),x.GetOne=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(j,"/post/one/").concat(n),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,console.log(a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}();var m=x,f=n(0),p=a.a.createContext(),h="token",O=function(e){var t=Object(r.useState)(void 0),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(void 0),o=Object(u.a)(s,2),d=o[0],j=o[1],x=function(e){localStorage.setItem(h,e),c(e)};Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=v())){e.next=8;break}return e.next=4,m.verifyToken(t);case 4:n=e.sent,r=n.username,a=n.role,r&&a&&(j({username:r,role:a}),x(t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var O=Object(r.useCallback)((function(e,t){var n=function(){var n=Object(l.a)(i.a.mark((function n(){var r,a,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=!1,n.prev=1,n.next=4,m.loginAdmin(e,t);case 4:a=n.sent,(c=a.token)&&(x(c),r=!0),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),console.error(n.t0),console.error("Error in credentials");case 13:return n.prev=13,n.abrupt("return",r);case 16:case"end":return n.stop()}}),n,null,[[1,9,13,16]])})));return function(){return n.apply(this,arguments)}}();return n()}),[]),g=Object(r.useCallback)((function(){j(void 0),x(void 0)}),[]),w=Object(r.useMemo)((function(){return{token:a,user:d,login:O,Exit:g}}),[a,d,O,g]);return Object(f.jsx)(p.Provider,Object(b.a)({value:w},e))},g=function(){var e=a.a.useContext(p);if(!e)throw new Error("useUserContext() must be inside of UserProvider");return e},v=function(){return localStorage.getItem(h)},w=n(30),y=n(29),N=n(7),k=(n(14),{admin:"/admin",user:"/user"});function C(){var e=g(),t=Object(d.g)(),n=g(),a=n.login,c=(n.token,Object(r.useState)(!1)),s=Object(u.a)(c,2),o=(s[0],s[1]),b=Object(r.useState)(""),j=Object(u.a)(b,2),x=j[0],m=j[1],p=Object(r.useState)(""),h=Object(u.a)(p,2),O=h[0],v=h[1],C=function(e,t){t(e.target.value)},S=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==x&&""!==O){e.next=5;break}N.b.error("Usuario o contrase\xf1a vacios"),e.next=12;break;case 5:return e.next=7,a(x,O);case 7:n=e.sent,o(!n),m(""),v(""),n||N.b.error("Usuario o contrase\xf1a incorrectos");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var n;e.user&&t(null!==(n=k[e.user.role])&&void 0!==n?n:"/")}),[e.user]),Object(f.jsxs)("section",{className:"bg-gray-600",children:[" ",Object(f.jsxs)("form",{onSubmit:S,className:"flex flex-col justify-center items-center\r w-48 max-w-screen-sm mx-auto h-screen md:w-auto lg:w-80",children:[Object(f.jsx)(N.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsxs)("div",{className:"space-y-5 bg-gray-700 px-9 py-9 md:px-20 md:py rounded-md",children:[Object(f.jsxs)("div",{className:"flex flex-col space-y-1",children:[Object(f.jsxs)("label",{htmlFor:"username",className:"text-white inline-flex gap-2 text-xl font-bold items-center",children:["Usuario ",Object(f.jsx)(y.a,{})]}),Object(f.jsx)("input",{type:"text",value:x,placeholder:"Ingresa tu usuario",onChange:function(e){return C(e,m)},className:"rounded-lg py-2 px-1"})]}),Object(f.jsxs)("div",{className:"flex flex-col space-y-1",children:[Object(f.jsxs)("label",{htmlFor:"password",className:"text-white  inline-flex  gap-2 text-xl items-center font-bold",children:["Contrase\xf1a ",Object(f.jsx)(w.a,{})]}),Object(f.jsx)("input",{type:"password",value:O,placeholder:"Contrase\xf1a",onChange:function(e){return C(e,v)},className:"rounded-lg py-2 px-1"})]}),Object(f.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full",children:"Ingresar"})]})]})]})}var S=function(e){var t=e.role,n=void 0===t?"user":t,r=e.children,a=g(),c=a.token,s=a.user;return c?s&&s.role===n?r:Object(f.jsx)(d.a,{replace:!0,to:"/404"}):Object(f.jsx)(d.a,{replace:!0,to:"/login"})};function A(){var e=Object(d.g)();return Object(f.jsx)("section",{className:"bg-gray-700",children:Object(f.jsx)("div",{className:"flex flex-col justify-center items-center\r w-80 max-w-screen-sm mx-auto h-screen md:w-auto ",children:Object(f.jsx)("button",{onClick:function(){e("/Login")},className:"bg-gray-400 animate-pulse rounded-3xl text-lg h-52 w-80 p-3 border-4 focus:animate-none",children:" ENTRAR A UCA PAGES"})})})}var T=n(32),E=n(33),F=n(31),P=function(e){return Object(f.jsxs)("div",{className:"py-2",children:[Object(f.jsxs)("h1",{className:"font-bold text-lg text-blue-600",children:[e.username,":"]}),Object(f.jsx)("p",{children:e.description})]})};function z(e){var t=g(),n=(t.login,t.token),a=Object(r.useState)(""),c=Object(u.a)(a,2),s=c[0],o=c[1],d=Object(r.useState)(e.likes.length),b=Object(u.a)(d,2),j=b[0],x=b[1],p=Object(r.useState)(e.comments),h=Object(u.a)(p,2),O=h[0],v=h[1],w=Object(r.useState)(""),y=Object(u.a)(w,2),k=y[0],C=y[1],S=function(){var t=Object(l.a)(i.a.mark((function t(){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.verifyToken(n);case 2:r=t.sent,a=r.username,o(a),console.log(a),v(e.comments);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){return Object(N.b)("Favorito Agregado/Removido")},z=Object(r.useState)(e.likes.some((function(e){return e.username===s}))),L=Object(u.a)(z,2),B=L[0],U=L[1];Object(r.useEffect)((function(){S()}),[]);function I(){return(I=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.Like(n,e.id);case 2:B?(x(j-1),U(!1)):(x(j+1),U(!0));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){return(D=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.AddFavorite(n,e.id);case 2:t.sent,A();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"p-4 sm:w-1/2 lg:w-1/3",children:[Object(f.jsx)(N.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsxs)("div",{className:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden",children:[Object(f.jsx)("img",{className:"lg:h-72 md:h-48 w-full object-cover object-center",src:e.image,alt:"Post img"}),Object(f.jsxs)("div",{className:"p-6 transition duration-300 ease-in",children:[Object(f.jsx)("h2",{className:"text-sm font-medium text-gray-400 mb-1",children:new Date(e.createdAt).toLocaleDateString()}),Object(f.jsx)("h1",{className:"text-2xl font-semibold mb-3",children:e.title}),Object(f.jsx)("p",{className:"leading-relaxed mb-3",children:e.description}),Object(f.jsxs)("div",{className:"flex items-center flex-wrap ",children:[Object(f.jsx)("a",{className:"text-indigo-300 inline-flex items-center md:mb-2 lg:mb-0",children:e.username}),Object(f.jsxs)("span",{className:"text-gray-400 mr-3 inline-flex space-x-3 items-center lg:ml-auto md:ml-0 ml-auto leading-none text-sm pr-3 py-1 border-r-2 border-gray-200",children:[Object(f.jsx)(F.a,{className:"cursor-pointer"}),e.comments.length,Object(f.jsx)(T.a,{className:"cursor-pointer ".concat(B&&"text-yellow-400"),onClick:function(){return I.apply(this,arguments)}}),e.likes.length]}),Object(f.jsx)("button",{className:"text-yellow-400 inline-flex items-center leading-none text-sm cursor-pointer",children:Object(f.jsx)(E.a,{className:"cursor-pointer",onClick:function(){return D.apply(this,arguments)}})})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{className:"text-lg font-semibold text-center text-gray-400 mt-4",children:"Comentarios"}),e.comments&&O.map((function(e){return Object(f.jsx)(P,{username:e.user.username,description:e.description},e.id)}))]})]}),Object(f.jsx)("div",{className:"p-5",children:Object(f.jsxs)("form",{className:"w-full space-y-2",children:[Object(f.jsx)("input",{className:"px-4 py-2 w-full rounded-lg text-gray-800 border border-gray-500 text-sm",type:"text",placeholder:"Escribe y presiona el boton",onChange:function(e){C(e.target.value)}}),Object(f.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition ",onClick:function(t){t.preventDefault(),""===k?N.b.error("No puedes hacer un comentario vacio"):k.length<8?N.b.error("El comentario debe tener minimo 8 caracteres"):(m.Commet(n,e.id,k),setTimeout((function(){window.location.reload()}),1e3))},children:"Agregar comentario"})]})})]})]})})}var L=function(){var e=Object(r.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],d=s[1],b=g(),j=(b.login,b.token);Object(r.useEffect)((function(){h()}),[]);var x=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n+1),e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n-1),e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.GetAll(j,6,n);case 2:t=e.sent,r=t.data,d(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"flex flex-wrap",children:o.map((function(e){return Object(f.jsx)(z,{createdAt:e.createdAt,id:e._id,title:e.title,username:e.user.username,description:e.description,image:e.image,likes:e.likes,comments:e.comments},e._id)}))}),Object(f.jsxs)("div",{className:"flex justify-center space-x-5 mb-3",children:[Object(f.jsx)("button",{className:"bg-blue-300 p-3 rounded",onClick:p,children:"Anterior"}),Object(f.jsx)("button",{className:"bg-red-300 p-3 rounded",onClick:x,children:"Siguiente"})]})]})};function B(){var e=Object(d.g)(),t=g().Exit,n=g();n.login,n.token;return Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)("section",{className:"relative w-full px-8 text-white bg-gray-800 body-font",children:Object(f.jsxs)("div",{className:"container flex flex-col flex-wrap items-center justify-between py-5 mx-auto md:flex-row max-w-7xl",children:[Object(f.jsx)("a",{className:"relative z-10 flex items-center w-auto text-2xl font-extrabold leading-none select-none",children:"UCA pages"}),Object(f.jsxs)("nav",{className:"top-0 left-0 z-0 cursor-pointer flex items-center justify-center w-full h-full py-5 -ml-0 space-x-5 text-base md:-ml-5 md:py-0 md:absolute",children:[Object(f.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 cursor-pointer transition duration-150 ease-out ",children:[Object(f.jsx)("span",{className:"block",onClick:function(){e("/user")},children:"Home"}),Object(f.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(f.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(f.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(f.jsx)("span",{className:"block",onClick:function(){e("/userfavorite")},children:"Favorites"}),Object(f.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(f.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]})]}),Object(f.jsx)("div",{class:"relative z-10 inline-flex items-center space-x-3 md:ml-5 lg:justify-end",children:Object(f.jsx)("span",{class:"inline-flex rounded-md shadow-sm",children:Object(f.jsx)("a",{href:"#",class:"inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-blue-600 border border-blue-700 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:function(){t(),e("/Login")},children:"Logout"})})})]})}),Object(f.jsx)(L,{})]})}var U=n(35),I=n(34);function D(e){var t=g(),n=(t.login,t.token),a=Object(r.useState)(""),c=Object(u.a)(a,2),s=c[0],o=c[1],d=Object(r.useState)(e.likes.length),b=Object(u.a)(d,2),j=b[0],x=b[1],p=Object(r.useState)(e.comments),h=Object(u.a)(p,2),O=h[0],v=h[1],w=Object(r.useState)(""),y=Object(u.a)(w,2),k=y[0],C=y[1],S=function(){return Object(N.b)("Favorito A\xf1adido/Removido")},A=function(){var t=Object(l.a)(i.a.mark((function t(){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.verifyToken(n);case 2:r=t.sent,a=r.username,o(a),v(e.comments);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),F=Object(r.useState)(e.likes.some((function(e){return e.username===s}))),z=Object(u.a)(F,2),L=z[0],B=z[1];Object(r.useEffect)((function(){A()}),[]);function D(){return(D=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.Like(n,e.id);case 2:L?(x(j-1),B(!1)):(x(j+1),B(!0));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(){return(G=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.AddFavorite(n,e.id);case 2:t.sent,S();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"p-4 sm:w-1/2 lg:w-1/3",children:[Object(f.jsx)(N.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsxs)("div",{className:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden",children:[Object(f.jsx)("img",{className:"lg:h-72 md:h-48 w-full object-cover object-center",src:e.image,alt:"Post img"}),Object(f.jsxs)("div",{className:"p-6 transition duration-300 ease-in",children:[Object(f.jsx)("h2",{className:"text-sm font-medium text-gray-400 mb-1",children:new Date(e.createdAt).toLocaleDateString()}),Object(f.jsx)("h1",{className:"text-2xl font-semibold mb-3",children:e.title}),Object(f.jsx)("p",{className:"leading-relaxed mb-3",children:e.description}),Object(f.jsxs)("div",{className:"flex items-center flex-wrap ",children:[Object(f.jsx)("a",{className:"text-indigo-300 inline-flex items-center md:mb-2 lg:mb-0",children:e.username}),Object(f.jsxs)("span",{className:"text-gray-400 cursor-pointer mr-10 inline-flex items-center lg:ml-auto md:ml-0 ml-auto leading-none text-sm border-gray-200",children:[Object(f.jsx)(T.a,{className:"cursor-pointer ".concat(L&&"text-yellow-400"),onClick:function(){return D.apply(this,arguments)}}),e.likes.length]}),Object(f.jsx)("span",{className:"text-gray-400 inline-flex items-center leading-none text-sm",children:Object(f.jsx)(E.a,{className:"cursor-pointer",onClick:function(){return G.apply(this,arguments)}})}),Object(f.jsx)("span",{className:"text-gray-400 inline-flex items-center leading-none text-sm",children:Object(f.jsx)(I.a,{})}),Object(f.jsx)("span",{className:"text-gray-400 inline-flex items-center leading-none text-sm cursor-pointer",children:Object(f.jsx)(U.a,{})})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{className:"text-lg font-semibold text-center text-gray-400 mt-4",children:"Comentarios"}),e.comments&&O.map((function(e){return Object(f.jsx)(P,{username:e.user.username,description:e.description},e.id)}))]}),Object(f.jsx)("div",{className:"p-5",children:Object(f.jsxs)("form",{className:"w-full",children:[Object(f.jsx)("input",{className:"px-4 py-2 w-full rounded-lg text-gray-800 border border-gray-500 text-sm",type:"text",placeholder:"Escribe y presiona el boton",onChange:function(e){C(e.target.value)}}),Object(f.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 mt-2 rounded-lg transition ",onClick:function(t){t.preventDefault(),""===k?N.b.error("No puedes hacer un comentario vacio"):k.length<8?N.b.error("El comentario debe tener minimo 8 caracteres"):(m.Commet(n,e.id,k),setTimeout((function(){window.location.reload()}),1e3))},children:"A\xf1adir comentario"})]})})]})]})]})})}var G=function(){var e=Object(r.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],d=s[1],b=g(),j=(b.login,b.token);Object(r.useEffect)((function(){h()}),[]);var x=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n+1),e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n-1),e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.GetAll(j,6,n);case 2:t=e.sent,r=t.data,d(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"flex flex-wrap",children:o.map((function(e){return Object(f.jsx)(D,{createdAt:e.createdAt,id:e._id,title:e.title,username:e.user.username,description:e.description,image:e.image,likes:e.likes,comments:e.comments},e._id)}))}),Object(f.jsxs)("div",{className:"flex justify-center space-x-5 pb-5",children:[Object(f.jsx)("button",{className:"bg-blue-300 p-3 rounded",onClick:p,children:"Anterior"}),Object(f.jsx)("button",{className:"bg-red-300 p-3 rounded",onClick:x,children:"Siguiente"})]})]})};function H(){var e=g(),t=(e.login,e.token),n=Object(r.useState)(""),a=Object(u.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),i=Object(u.a)(o,2),l=i[0],d=i[1],b=Object(r.useState)(""),j=Object(u.a)(b,2),x=j[0],p=j[1],h=function(){setTimeout((function(){window.location.reload()}),5e3)};return Object(f.jsxs)("div",{className:"bg-gray-800 w-96 h-96 rounded-lg mx-auto mt-5",id:"form",children:[Object(f.jsx)(N.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsxs)("div",{className:"text-center flex flex-col space-y-3 mx-5 pt-7",children:[Object(f.jsx)("h2",{className:"text-white font-bold text-xl",children:"Titulo:"}),Object(f.jsx)("input",{id:"titulo",type:"text",placeholder:"Inserte su titulo",onChange:function(e){s(e.target.value)},className:"rounded-xl p-2"}),Object(f.jsx)("h2",{className:"text-white font-bold text-xl",children:"Descripci\xf3n:"}),Object(f.jsx)("input",{id:"Description",type:"text",placeholder:"Inserte una descripcion",onChange:function(e){d(e.target.value)},className:"rounded-xl p-2"}),Object(f.jsx)("h2",{className:"text-white font-bold text-xl",children:"Imagen:"}),Object(f.jsx)("input",{id:"Imagen",type:"text",placeholder:"(Use una URL valida)",onChange:function(e){p(e.target.value)},className:"rounded-xl p-2"}),Object(f.jsxs)("div",{className:"space-x-5",children:[Object(f.jsx)("button",{onClick:function(){""===c||""===l||""===x?N.b.error("Todos los campos son oblogatorios y no pueden quedar vacios"):c.length<9||c.length>33||l.length<9?N.b.error("El titulo debe tener entre 8 y 32 caracteres"):(Object(N.b)("Post creado exitosamente"),m.createPost(t,"admin",c,l,x).then((function(e){console.log(e)}),(function(e){console.log(e)})),h())},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition ",children:"Subir post"}),Object(f.jsx)("button",{onClick:function(){setTimeout((function(){window.location.reload()}),1e3)},className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition ",children:"Cancelar"})]})]})]})}function _(e){var t=g(),n=(t.login,t.token),a=Object(r.useState)(""),c=Object(u.a)(a,2),s=(c[0],c[1]),o=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.verifyToken(n);case 2:t=e.sent,r=t.username,s(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){o()}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"p-4 sm:w-1/2 lg:w-1/3",children:Object(f.jsx)("div",{className:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden",children:Object(f.jsxs)("div",{className:"p-6 transition duration-300 ease-in",children:[Object(f.jsx)("h1",{className:"text-2xl font-semibold mb-3",children:e.title}),Object(f.jsx)("p",{children:e.id}),Object(f.jsx)("p",{className:"leading-relaxed mb-3",children:e.description})]})})})})}function J(){var e=Object(r.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],d=s[1],b=g(),j=(b.login,b.token),x=Object(r.useState)(),p=Object(u.a)(x,2),h=p[0],O=p[1];Object(r.useEffect)((function(){y()}),[]);var v=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n+1,e.next=3,a(t);case 3:return e.next=5,y();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n-1,e.next=3,a(t);case 3:return e.next=5,y();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Owned(j,"admin",6,n);case 2:t=e.sent,r=t.data,d(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"flex flex-wrap",children:o.map((function(e){return Object(f.jsx)(_,{createdAt:e.createdAt,id:e._id,title:e.title,isOwnedPage:!1})}))}),Object(f.jsxs)("div",{className:"flex justify-center space-x-5 pb-5",children:[Object(f.jsx)("button",{className:"bg-blue-300 p-3 rounded",onClick:w,children:"Anterior"}),Object(f.jsx)("button",{className:"bg-red-300 p-3 rounded",onClick:v,children:"Siguiente"})]}),Object(f.jsxs)("div",{className:"bg-gray-800 text-white w-48 mx-auto p-5 rounded-md space-y-3",children:[Object(f.jsxs)("div",{className:"text-center space-y-4",children:[Object(f.jsx)("h1",{className:"",children:"Ingrese id"}),Object(f.jsx)("input",{className:"text-black w-20 p-2 rounded mx-auto",type:"text",placeholder:"id",onChange:function(e){O(e.target.value)}})]}),Object(f.jsxs)("div",{className:"text-center space-y-3 mt-2",children:[Object(f.jsx)("button",{className:"bg-blue-400 hover:bg-blue-700 transition p-2 rounded-lg",onClick:function(){m.Toggle(j,"admin",h),Object(N.b)("Toggle realizado con exito"),setTimeout((function(){window.location.reload()}),5e3)},children:"Activar/Desactivar"}),Object(f.jsx)("button",{className:"bg-red-400 hover:bg-red-700 transition p-2 rounded-lg",onClick:function(){setTimeout((function(){window.location.reload()}),1e3)},children:"Cancelar"})]})]})]})}function R(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],d=s[1],b=Object(r.useState)([]),j=Object(u.a)(b,2),x=j[0],p=j[1],h=g(),O=(h.login,h.token),v=Object(r.useState)(""),w=Object(u.a)(v,2),y=w[0],k=w[1],C=Object(r.useState)(""),S=Object(u.a)(C,2),A=S[0],T=S[1],E=Object(r.useState)(""),F=Object(u.a)(E,2),P=F[0],z=F[1];Object(r.useEffect)((function(){B()}),[]);var L=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===y||""===A||""===P?N.b.error("Todos los campos son oblogatorios y no pueden quedar vacios"):y.length<9||y.length>33||A.length<9?N.b.error("El titulo debe tener entre 8 y 32 caracteres"):(Object(N.b)("Post actualizado exitosamente"),m.Update(O,"admin",x._id,y,A,P).then((function(e){console.log(e)}),(function(e){console.log(e)})),setTimeout((function(){window.location.reload()}),5e3));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Owned(O,"admin",100,0);case 2:t=e.sent,n=t.data,d(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"space-y-7 mt-6",children:[Object(f.jsx)(N.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsxs)("div",{className:"bg-gray-800 w-96 mx-auto text-white text-center p-7 rounded-lg space-y-5",children:[Object(f.jsx)("h1",{className:"text-xl font-bold ",children:"Ingrese nombre de post"}),Object(f.jsx)("input",{type:"text",placeholder:"(Ingrese post valido)",onChange:function(e){a(e.target.value)},className:"p-2 rounded-lg text-black"}),Object(f.jsx)("button",{onClick:function(){var e=o.find((function(e){return e.title==n}));if(console.log(e),o.find((function(e){return e.title==n}))){console.log("entro"),Object(N.b)("Post encontrado");var t=o.find((function(e){return e.title==n}));p(t)}else console.log("no entro"),N.b.error("El post no existe o no es de su propiedad")},className:"bg-blue-500 hover:bg-blue-700 transition m-5 p-2 \r text-white font-semibold rounded-lg",children:"Buscar"})]}),Object(f.jsxs)("div",{className:"text-center flex flex-col space-y-3 w-96 content-center mx-auto bg-gray-800 p-10 rounded-xl",children:[Object(f.jsx)("h2",{className:"text-white font-bold text-xl",children:"Titulo:"}),Object(f.jsx)("input",{id:"titulo",type:"text",placeholder:"Inserte su titulo",onChange:function(e){k(e.target.value)},className:"rounded-xl p-2"}),Object(f.jsx)("h2",{className:"text-white font-bold text-xl",children:"Descripci\xf3n:"}),Object(f.jsx)("input",{id:"Description",type:"text",placeholder:"Inserte una descripcion",onChange:function(e){T(e.target.value)},className:"rounded-xl p-2"}),Object(f.jsx)("h2",{className:"text-white font-bold text-xl",children:"Imagen:"}),Object(f.jsx)("input",{id:"Imagen",type:"text",placeholder:"(Use una URL valida)",onChange:function(e){z(e.target.value)},className:"rounded-xl p-2"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:L,className:"bg-blue-500 hover:bg-blue-700 transition m-5 p-2 text-white font-semibold rounded-lg",children:"Actualizar"}),Object(f.jsx)("button",{onClick:function(){setTimeout((function(){window.location.reload()}),1e3)},className:"bg-red-500 hover:bg-red-700 transition m-5 p-2 text-white font-semibold rounded-lg",children:"Volver"})]})]})]})}function q(){var e=Object(d.g)(),t=g().Exit,n=Object(r.useState)(!1),a=Object(u.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(!1),i=Object(u.a)(o,2),l=i[0],b=i[1],j=Object(r.useState)(!1),x=Object(u.a)(j,2),m=x[0],p=x[1],h=!0;return Object(f.jsxs)("div",{children:[Object(f.jsx)("section",{className:"relative w-full px-8 text-white bg-gray-800 body-font",children:Object(f.jsxs)("div",{className:"container flex flex-col flex-wrap items-center justify-between py-5 mx-auto md:flex-row max-w-7xl",children:[Object(f.jsx)("a",{className:"relative z-10 flex items-center w-auto text-2xl font-extrabold leading-none select-none",children:"UCA pages"}),Object(f.jsxs)("nav",{className:"top-0 left-0 z-0 flex items-center justify-center w-full h-full py-5 -ml-0 space-x-5 text-base md:-ml-5 md:py-0 md:absolute",children:[Object(f.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ",children:[Object(f.jsx)("span",{className:"block",onClick:function(){e("/admin")},children:"Home"}),Object(f.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(f.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(f.jsxs)("a",{onClick:function(){e("/ownposts")},className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(f.jsx)("span",{className:"block",children:"Owned"}),Object(f.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(f.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(f.jsxs)("a",{onClick:function(){b(h)},className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(f.jsx)("span",{className:"block",children:"Update"}),Object(f.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(f.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(f.jsxs)("a",{onClick:function(){s(h)},className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(f.jsx)("span",{className:"block",children:"Create Post"}),Object(f.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(f.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(f.jsxs)("a",{onClick:function(){p(h)},className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(f.jsx)("span",{className:"block",children:"Toggle"}),Object(f.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(f.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]})]}),Object(f.jsx)("div",{class:"relative z-10 inline-flex items-center space-x-3 md:ml-5 lg:justify-end",children:Object(f.jsx)("span",{class:"inline-flex rounded-md shadow-sm",children:Object(f.jsx)("a",{href:"#",class:"inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-blue-600 border border-blue-700 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:function(){t(),e("/Login")},children:"Logout"})})})]})}),Object(f.jsx)("div",{children:c&&Object(f.jsx)(H,{})}),l&&Object(f.jsx)(R,{}),m&&Object(f.jsx)(J,{}),Object(f.jsx)(G,{})]})}function M(e){var t=g(),n=(t.login,t.token),a=Object(r.useState)(""),c=Object(u.a)(a,2),s=c[0],o=c[1],d=Object(r.useState)(e.likes.length),b=Object(u.a)(d,2),j=b[0],x=b[1],p=Object(r.useState)(e.comments),h=Object(u.a)(p,2),O=h[0],v=h[1],w=Object(r.useState)(""),y=Object(u.a)(w,2),N=y[0],k=y[1],C=function(){var t=Object(l.a)(i.a.mark((function t(){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.verifyToken(n);case 2:r=t.sent,a=r.username,o(a),console.log(a),v(e.comments);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=Object(r.useState)(e.likes.some((function(e){return e.username===s}))),A=Object(u.a)(S,2),z=A[0],L=A[1];Object(r.useEffect)((function(){C()}),[]);function B(){return(B=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.Like(n,e.id);case 2:z?(x(j-1),L(!1)):(x(j+1),L(!0));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(){return(U=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.AddFavorite(n,e.id);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"p-4 sm:w-1/2 lg:w-1/3",children:Object(f.jsxs)("div",{className:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden",children:[Object(f.jsx)("img",{className:"lg:h-72 md:h-48 w-full object-cover object-center",src:e.image,alt:"Post img"}),Object(f.jsxs)("div",{className:"p-6 transition duration-300 ease-in",children:[Object(f.jsx)("h2",{className:"text-sm font-medium text-gray-400 mb-1",children:new Date(e.createdAt).toLocaleDateString()}),Object(f.jsx)("h1",{className:"text-2xl font-semibold mb-3",children:e.title}),Object(f.jsx)("p",{className:"leading-relaxed mb-3",children:e.description}),Object(f.jsxs)("div",{className:"flex items-center flex-wrap ",children:[Object(f.jsx)("a",{className:"text-indigo-300 inline-flex items-center md:mb-2 lg:mb-0",children:e.username}),Object(f.jsxs)("span",{className:"text-gray-400 mr-3 inline-flex space-x-3 items-center lg:ml-auto md:ml-0 ml-auto leading-none text-sm pr-3 py-1 border-r-2 border-gray-200",children:[Object(f.jsx)(F.a,{className:"cursor-pointer"}),e.comments.length,Object(f.jsx)(T.a,{className:"cursor-pointer ".concat(z&&"text-yellow-400"),onClick:function(){return B.apply(this,arguments)}}),e.likes.length]}),Object(f.jsx)("button",{className:"text-yellow-400 inline-flex items-center leading-none text-sm cursor-pointer",children:Object(f.jsx)(E.a,{className:"cursor-pointer",onClick:function(){return U.apply(this,arguments)}})})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{className:"text-lg font-semibold text-center text-gray-400 mt-4",children:"Comentarios"}),e.comments&&O.map((function(e){return Object(f.jsx)(P,{username:e.user.username,description:e.description},e.id)}))]})]}),Object(f.jsx)("div",{className:"p-5",children:Object(f.jsxs)("form",{className:"w-full",children:[Object(f.jsx)("input",{className:"px-4 py-2 w-full rounded-lg text-gray-800 border border-gray-500 text-sm",type:"text",placeholder:"Escribe tu comentario y presiona enter",onChange:function(e){k(e.target.value)}}),Object(f.jsx)("button",{onClick:function(t){t.preventDefault(),m.Commet(n,e.id,N)},children:"agregar"})]})})]})})})}var V=function(){var e=Object(r.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],d=s[1],b=g(),j=(b.login,b.token),x=Object(r.useState)(),p=Object(u.a)(x,2),h=(p[0],p[1]);Object(r.useEffect)((function(){w()}),[]);var O=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n+1),e.next=4,w();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n-1),e.next=4,w();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.GetAll(j,6,n);case 2:return t=e.sent,r=t.data,d(r),e.next=7,m.GetFavorite(j);case 7:a=e.sent,c=[],o.forEach((function(e){e._id===a.forEach((function(e){return e}))&&(console.log(e),c.push(e))})),console.log(c),h(c);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"flex flex-wrap",children:o.map((function(e){return Object(f.jsx)(M,{createdAt:e.createdAt,id:e._id,title:e.title,username:e.user.username,description:e.description,image:e.image,likes:e.likes,comments:e.comments},e._id)}))}),Object(f.jsxs)("div",{className:"flex justify-center space-x-5 pb-5",children:[Object(f.jsx)("button",{className:"bg-blue-300 p-3 rounded",onClick:v,children:"Anterior"}),Object(f.jsx)("button",{className:"bg-red-300 p-3 rounded",onClick:O,children:"Siguiente"})]})]})};function K(){var e=Object(d.g)(),t=g().Exit,n=g();n.login,n.token;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("section",{className:"relative w-full px-8 text-white bg-gray-800 body-font",children:Object(f.jsxs)("div",{className:"container flex flex-col flex-wrap items-center justify-between py-5 mx-auto md:flex-row max-w-7xl",children:[Object(f.jsx)("a",{href:"#_",className:"relative z-10 flex items-center w-auto text-2xl font-extrabold leading-none select-none",children:"UCA pages"}),Object(f.jsxs)("nav",{className:"top-0 left-0 z-0 cursor-pointer flex items-center justify-center w-full h-full py-5 -ml-0 space-x-5 text-base md:-ml-5 md:py-0 md:absolute",children:[Object(f.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 cursor-pointer transition duration-150 ease-out ",children:[Object(f.jsx)("span",{className:"block",onClick:function(){e("/user")},children:"Home"}),Object(f.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(f.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(f.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(f.jsx)("span",{className:"block",onClick:function(){e("/userfavorite")},children:"Favorites"}),Object(f.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(f.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]})]}),Object(f.jsx)("div",{class:"relative z-10 inline-flex items-center space-x-3 md:ml-5 lg:justify-end",children:Object(f.jsx)("span",{class:"inline-flex rounded-md shadow-sm",children:Object(f.jsx)("a",{href:"#",class:"inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-blue-600 border border-blue-700 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:function(){t(),e("/Login")},children:"Logout"})})})]})}),Object(f.jsx)(V,{})]})}function Q(){var e=Object(d.g)();return Object(f.jsx)("section",{className:"bg-gray-50 h-screen flex flex-row",children:Object(f.jsxs)("div",{className:"w-full bg-gray-50 h-96 text-center my-auto mx-auto",children:[Object(f.jsx)("img",{className:"relative h-36 w-40 mx-auto",src:"https://i.pinimg.com/originals/07/9c/3e/079c3ea0dce59cc171629800294b0f3d.jpg",alt:"err 404"}),Object(f.jsx)("h1",{className:"text-2xl font-extrabold",children:"Error 404"}),Object(f.jsx)("p",{children:"Something went wrong, try: "}),Object(f.jsx)("button",{onClick:function(){e("/Login")},className:"bg-gray-400 hover:bg-gray-700 transition p-2 rounded-lg mt-4 text-white font-bold",children:"Go to login"})]})})}var W=function(){var e=Object(r.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],d=s[1],b=g(),j=(b.login,b.token);Object(r.useEffect)((function(){h()}),[]);var x=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n+1),e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n-1),e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Owned(j,"admin",6,n);case 2:t=e.sent,r=t.data,d(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"flex flex-wrap",children:o.map((function(e){return Object(f.jsx)(D,{createdAt:e.createdAt,id:e._id,title:e.title,username:e.user.username,description:e.description,image:e.image,likes:e.likes,comments:e.comments},e._id)}))}),Object(f.jsxs)("div",{className:"flex justify-center space-x-5 pb-5",children:[Object(f.jsx)("button",{className:"bg-blue-300 p-3 rounded",onClick:p,children:"Anterior"}),Object(f.jsx)("button",{className:"bg-red-300 p-3 rounded",onClick:x,children:"Siguiente"})]})]})};function X(){var e=Object(d.g)(),t=g().Exit,n=g();n.login,n.token;return Object(f.jsxs)("div",{children:[Object(f.jsx)("section",{className:"relative w-full px-8 text-white bg-gray-800 body-font",children:Object(f.jsxs)("div",{className:"container flex flex-col flex-wrap items-center justify-between py-5 mx-auto md:flex-row max-w-7xl",children:[Object(f.jsx)("a",{href:"#_",className:"relative z-10 flex items-center w-auto text-2xl font-extrabold leading-none select-none",children:"UCA pages"}),Object(f.jsx)("nav",{className:"top-0 left-0 z-0 flex items-center justify-center w-full h-full py-5 -ml-0 space-x-5 text-base md:-ml-5 md:py-0 md:absolute",children:Object(f.jsxs)("a",{onClick:function(){e("/admin")},className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ",children:[Object(f.jsx)("span",{className:"block",children:"Home"}),Object(f.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(f.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]})})," ",Object(f.jsx)("div",{class:"relative z-10 inline-flex items-center space-x-3 md:ml-5 lg:justify-end",children:Object(f.jsx)("span",{class:"inline-flex rounded-md shadow-sm",children:Object(f.jsx)("a",{href:"#",class:"inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-blue-600 border border-blue-700 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:function(){t(),e("/Login")},children:"Cerrar Sesi\xf3n"})})})]})}),Object(f.jsx)(W,{})]})}var Y=n(13);var Z=function(){return Object(f.jsx)(Y.a,{children:Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.b,{path:"/",element:Object(f.jsx)(A,{})}),Object(f.jsx)(d.b,{path:"/Login",element:Object(f.jsx)(C,{})}),Object(f.jsx)(d.b,{path:"/*",element:Object(f.jsx)(Q,{})}),Object(f.jsx)(d.b,{path:"/admin",element:Object(f.jsxs)(S,{role:"admin",children:[" ",Object(f.jsx)(q,{})]})}),Object(f.jsx)(d.b,{path:"/ownposts",element:Object(f.jsxs)(S,{role:"admin",children:[" ",Object(f.jsx)(X,{})]})}),Object(f.jsx)(d.b,{path:"/user",element:Object(f.jsxs)(S,{role:"user",children:[" ",Object(f.jsx)(B,{})]})}),Object(f.jsx)(d.b,{path:"/userfavorite",element:Object(f.jsxs)(S,{role:"user",children:[" ",Object(f.jsx)(K,{})]})})]})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(O,{children:Object(f.jsx)(Z,{})})}),document.getElementById("root")),$()}},[[28,1,2]]]);
//# sourceMappingURL=main.58438d37.chunk.js.map